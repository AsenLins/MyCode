## 选择器特指度
特指度度量的是 CSS 选择器识别元素的精确性。为选取元素，不同类型的选择器常组合在一起，计算特指度时需要分析这些选择器（除了通用选择器 *）。为 (a, b, c, d) 中的各个变量赋予相应的数值，就能得到特指度。

1. 如果用 style 属性应用样式，则 a=1，否则 a=0。

2. b 为 ID 选择器的数量。

3. c 为类选择器、属性选择器和伪类的数量。

4. d 为类型选择器和伪元素的数量。


```
#div>ul .nav:a:hover=(0,1,2,1)

a=0个行内样式
b=1个Id选择器
c=2=1个类选择器，1个伪类
d=1=1个类型选择器


```

对比规则：左边的特指度越高，则权值越大,若同等级，则后面声明的权值更大。

```
(0,1,2,3)>(0,0,2,2)

(1,2,2,2)>(0,3,3,3)

(2,2,3,3)>(2,2,3,4)
```



## 浏览器匹配CSS规则

### 从右向左匹配选择器

```
div > nav > ul >li > a
```

- 遍历每个元素，检查它是否是 <a> 元素
- 检查步骤 1 匹配到的每个 a 元素，确认它是否有一个 li 父节点
- 检查步骤 2 匹配到的每个 li 元素，确认它是否有一个 ul 父节点
- 检查步骤 3 匹配到的每个 ul 元素，确认它是否有一个 nav 父节点
- 检查步骤 4 匹配到的每个 nav 元素，确认它是否有一个 div 父节点


### 过度精确造成的性能损耗

```
body *{}

*{}

```

以上第一种的写法是匹配每个元素，然后再确定是否在body之中，这样很明显就是性能浪费。
第二种则选择每个元素即可。

总结：过度精确选择器会造成性能浪费。



## 优化建议：

### 分离CSS和JavaScript

声明ID应该尽量只给js调用，而样式则始终使用Class,若要保留页面单一结构，像页面的slider,topbar等，也可以使用ID.

### 在JavaScript中使用带前缀的类和ID
为ID加上js前缀

```
<div id="js-myDiv"></div>
```

### 用类修改元素样式
当脚本要修改样式的时候，尽量操控class,而不是具体的style
```
$("dom").addClass("red");

```

### 避免使用过于模块化的类
```

<div class="font-16 margin-16 font-blod"></div>

应该将过于模块化的样式放入到一个样式中：

.font-box{
    font-size:16px;
    margin:16px;
    font-weight:blod;
}



```
这些类描述的是怎样为元素增加样式，而不是为什么元素增加样式.



### 通用样式
通用样式用来设定基准，以消除不同浏览器之间的不一致性。消除了不一致性之后，再定义样式时就可以使用通用样式定义的属性了。

### 基础样式
基础样式为网站的所有元素提供基本的样式。留白（margin、padding 和 line-height 等）、字体及其大小等大多数元素都要用到的样式，不需要不断重写，应该在基础样式中进行定义。

### 组件及其容器的样式
组件样式是以基础样式为基础进行定义的，它利用视觉隐喻，使得用户更易于与网站交互。前面已讲过，该类样式应该能够满足网站范围内的大多数应用场景，样式上的任何调整都应该交由父容器处理。

### 结构化样式
结构化样式包括组件及其容器的样式。该类样式用来创建网页的布局，并常用于定义尺寸。

### 功能性样式
功能性样式是所有样式中最精确的样式。JavaScript 所使用的添加 !important 语句的类就属于这类样式，其他为满足单一目的而实现的样式也属于该类。

### 浏览器特定样式
最后，如果你无法放弃支持老式浏览器，那么你专门为其实现的样式属于该类。该类样式可能也使用了 !important 语句，只对特定的浏览器生效。它们通常不够优雅，因此不再使用时，一定要将其删除。


