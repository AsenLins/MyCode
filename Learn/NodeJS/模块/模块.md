

### 模块的运行机制

- Node以同步的方式寻找模块(require函数),除了在头部的地方引入外，尽量不要在其他地方引入，因为require是以同步的方式加载模块的，而NodeJS是单线程，也就是说每次加载都会阻塞其他异步的I/O

- Node 查找文件的顺序是先找核心模块，然后是当前目录，最后是 node_modules

- 用路径 ./ 表明模块跟程序脚本放在同一目录下

- 如果模块是目录，在模块目录中定义模块的文件必须被命名为 index.js，除非有package.json文件，并且指定了main属性。

- 导出模块可以用 module.exports|exports，如果使用exports，则不能直接exports=xxx,因为exports存储的是module.exports的引用，直接修改，会导致引用丢失,所以，如果导出的是一个对象则可以使用module.exports,如果是一个属性或者函数，则可使用exports


### 模块的缓存
- Node 能把模块作为对象缓存起来。如果程序中的两个文件引入了相同的模块，第一个 require 会把模块返回的数据存到内存中，第二个就可以直接访问内存中的模块了，而不需要重复加载。

- 在同一个进程中用 require 加载一个模块得到的是相同的对象


### 模块引入与导出的api:
```
const m1=require("./m1");


const obj={
    name:"asen",
    age:10    
}

module.exports=obj; // or module.exports=exports=obj;\


//第二种写法
/*
module.exports={
    name:"asen",
    age:10
}
*/

```